<div class="container p-3 info mat-elevation-z8" style="margin: auto;margin-top:15px;">
    <!-- <div *ngIf="!loading" class="spinner"></div>
    <div  id="mapLocation" class="col-8"><h6 class="click">Click on the map to get location</h6></div> -->

    <h1 class="title text-center">Ajouter une nouvelle localisation</h1>
    <div class="row">
        <div class="col">
            <label>Pays</label>
            <select [(ngModel)]="country" class="w-100 p-2">
                <option *ngFor="let row of countries" value="{{row.country}}">{{row.country}}</option>
            </select>
        </div>
        <div class="col">
            <label>Ville</label>
            <input [(ngModel)]="city" required class="w-100 p-2 rounded">
        </div>
        <div class="col">
            <label>Lat</label>
            <input [(ngModel)]="lat" type="number" required class="w-100 p-2 rounded">
        </div>
        <div class="col">
            <label>Lng</label>
            <input [(ngModel)]="lng" type="number" required class="w-100 p-2 rounded">
        </div>
    </div>
    <div class="d-flex justify-content-between my-2">
        <button mat-mini-fab (click)="onAddLocation()" style="background: #002147;"
            *ngIf='country && city && lat && lng' matTooltip="Ajouter une autre location">
            <mat-icon>add</mat-icon>
        </button>
        
    </div>

    <div class="row warning m-1 py-1 rounded" *ngIf="locations.length > 0">
        <hr>
        <div class="col">
            <h3>Pays</h3>
        </div>
        <div class="col">
            <h3>Ville</h3>
        </div>
        <div class="col">
            <h3>Lat</h3>
        </div>
        <div class="col">
            <h3>Lng</h3>
        </div>
        <div class="col">
            <h3>Actions</h3>
        </div>
    </div>
    <div class="row white m-1 rounded" *ngFor="let location of locations">
        <div class="col">
            <h3>{{location.country}}</h3>
        </div>
        <div class="col">
            <h3>{{location.city}}</h3>
        </div>
        <div class="col">
            <h3>{{location.lat}}</h3>
        </div>
        <div class="col">
            <h3>{{location.lng}}</h3>
        </div>
        <div class="col">
            <mat-icon style="margin-right: 10px;" color="warn" (click)="removeCity(location.city)" matTooltip="delete">
                delete
            </mat-icon>
        </div>
    </div>
    <div class="mx-1 my-3">
        <button class="submit" 
            (click)="onSubmit()" 
            mat-raised-button 
            *ngIf="locations.length > 0"
            style="display:block; margin-right:0;margin-left:auto;"
            class="primary ">Valider & Enregistrer
        </button>
    </div>
</div>