{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/data.service\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/tooltip\";\nimport * as i7 from \"@angular/material/icon\";\n\nfunction LocationComponent_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r5 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", row_r5.country);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r5.country);\n  }\n}\n\nfunction LocationComponent_button_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function LocationComponent_button_22_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.onAddLocation();\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"add\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LocationComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵelement(1, \"hr\");\n    i0.ɵɵelementStart(2, \"div\", 3);\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"Pays\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 3);\n    i0.ɵɵelementStart(6, \"h3\");\n    i0.ɵɵtext(7, \"Lieu\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 3);\n    i0.ɵɵelementStart(9, \"h3\");\n    i0.ɵɵtext(10, \"Lat\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 3);\n    i0.ɵɵelementStart(12, \"h3\");\n    i0.ɵɵtext(13, \"Lng\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 3);\n    i0.ɵɵelementStart(15, \"h3\");\n    i0.ɵɵtext(16, \"Actions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LocationComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 3);\n    i0.ɵɵelementStart(5, \"h3\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 3);\n    i0.ɵɵelementStart(8, \"h3\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 3);\n    i0.ɵɵelementStart(11, \"h3\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 3);\n    i0.ɵɵelementStart(14, \"mat-icon\", 19);\n    i0.ɵɵlistener(\"click\", function LocationComponent_div_24_Template_mat_icon_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const location_r8 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.removeCity(location_r8.city);\n    });\n    i0.ɵɵtext(15, \" delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const location_r8 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(location_r8.country);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(location_r8.city);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(location_r8.lat);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(location_r8.lng);\n  }\n}\n\nfunction LocationComponent_button_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function LocationComponent_button_26_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.onSubmit();\n    });\n    i0.ɵɵtext(1, \"Valider & Enregistrer \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let LocationComponent = /*#__PURE__*/(() => {\n  class LocationComponent {\n    constructor(dataService, http) {\n      this.dataService = dataService;\n      this.http = http;\n      this.locations = [];\n      this.countries = [];\n      this.cities = [];\n      this.loading = false;\n      this.country = '';\n      this.city = '';\n    }\n\n    ngAfterViewInit() {\n      this.dataService.getCountries().subscribe(res => {\n        this.countries = res;\n        this.loading = true;\n      });\n    }\n\n    onAddLocation() {\n      console.log('hello');\n      const location = {\n        country: this.country,\n        city: this.city,\n        lat: this.lat,\n        lng: this.lng,\n        id_country: this.id_country\n      };\n      this.locations.push(location);\n      this.country = null;\n      this.city = null;\n      this.lat = null;\n      this.lng = null;\n      console.log(this.locations);\n    }\n\n    removeCity(city) {\n      console.log(city);\n      this.locations = this.locations.filter(location => {\n        return location.city != city;\n      });\n    }\n\n    onSubmit() {\n      const location = {\n        country: this.country,\n        city: this.city,\n        lat: this.lat,\n        lng: this.lng,\n        id_country: this.id_country\n      };\n      console.log(location);\n    }\n\n    formatLabel(value) {\n      if (!value) {\n        return 0;\n      }\n\n      this.value = value;\n      console.log(this.value);\n      return value;\n    }\n\n    onChangeRange(rangeValue) {\n      console.log(rangeValue);\n      this.showTime = rangeValue;\n    }\n\n  }\n\n  LocationComponent.ɵfac = function LocationComponent_Factory(t) {\n    return new (t || LocationComponent)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.HttpClient));\n  };\n\n  LocationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LocationComponent,\n    selectors: [[\"app-location\"]],\n    decls: 28,\n    vars: 9,\n    consts: [[1, \"container\", \"p-3\", \"mat-elevation-z8\", \"mb-5\", \"white\", 2, \"margin\", \"auto\", \"margin-top\", \"15px\"], [1, \"title\", \"text-center\"], [1, \"row\"], [1, \"col\"], [1, \"w-100\", \"p-2\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"required\", \"\", 1, \"w-100\", \"p-2\", \"rounded\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"required\", \"\", 1, \"w-100\", \"p-2\", \"rounded\", 3, \"ngModel\", \"ngModelChange\"], [1, \"d-flex\", \"justify-content-between\", \"my-2\"], [\"mat-mini-fab\", \"\", \"class\", \"bg-success\", \"matTooltip\", \"Ajouter une autre location\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"row warning m-1 py-1 rounded\", 4, \"ngIf\"], [\"class\", \"row m-1 rounded\", \"style\", \"background: rgb(231, 231, 231);\", 4, \"ngFor\", \"ngForOf\"], [1, \"mx-1\", \"my-3\"], [\"class\", \"submit\", \"mat-raised-button\", \"\", \"style\", \"display:block; margin-right:0;margin-left:auto;\", \"class\", \"success \", 3, \"click\", 4, \"ngIf\"], [2, \"height\", \"100px\"], [3, \"value\"], [\"mat-mini-fab\", \"\", \"matTooltip\", \"Ajouter une autre location\", 1, \"bg-success\", 3, \"click\"], [1, \"row\", \"warning\", \"m-1\", \"py-1\", \"rounded\"], [1, \"row\", \"m-1\", \"rounded\", 2, \"background\", \"rgb(231, 231, 231)\"], [\"color\", \"warn\", \"matTooltip\", \"delete\", 2, \"margin-right\", \"10px\", \"cursor\", \"pointer\", 3, \"click\"], [\"mat-raised-button\", \"\", 1, \"success\", 2, \"display\", \"block\", \"margin-right\", \"0\", \"margin-left\", \"auto\", 3, \"click\"]],\n    template: function LocationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"h1\", 1);\n        i0.ɵɵtext(2, \"Ajouter une nouvelle localisation\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"label\");\n        i0.ɵɵtext(6, \"Pays\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"select\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function LocationComponent_Template_select_ngModelChange_7_listener($event) {\n          return ctx.country = $event;\n        });\n        i0.ɵɵtemplate(8, LocationComponent_option_8_Template, 2, 2, \"option\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 3);\n        i0.ɵɵelementStart(10, \"label\");\n        i0.ɵɵtext(11, \"Ville\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function LocationComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.city = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 3);\n        i0.ɵɵelementStart(14, \"label\");\n        i0.ɵɵtext(15, \"Lat\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function LocationComponent_Template_input_ngModelChange_16_listener($event) {\n          return ctx.lat = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 3);\n        i0.ɵɵelementStart(18, \"label\");\n        i0.ɵɵtext(19, \"Lng\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function LocationComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.lng = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 8);\n        i0.ɵɵtemplate(22, LocationComponent_button_22_Template, 3, 0, \"button\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(23, LocationComponent_div_23_Template, 17, 0, \"div\", 10);\n        i0.ɵɵtemplate(24, LocationComponent_div_24_Template, 16, 4, \"div\", 11);\n        i0.ɵɵelementStart(25, \"div\", 12);\n        i0.ɵɵtemplate(26, LocationComponent_button_26_Template, 2, 0, \"button\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"div\", 14);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.country);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.countries);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.city);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.lat);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.lng);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.country && ctx.city && ctx.lat && ctx.lng);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.locations.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.locations);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.locations.length > 0);\n      }\n    },\n    directives: [i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel, i4.NgForOf, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NumberValueAccessor, i4.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i5.MatButton, i6.MatTooltip, i7.MatIcon],\n    styles: [\"h3[_ngcontent-%COMP%]{padding:0;margin:0}.title[_ngcontent-%COMP%]{font-weight:bolder}.content[_ngcontent-%COMP%]{height:93vh;padding-left:15px;padding-right:18px;padding-top:15px}\"]\n  });\n  return LocationComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}